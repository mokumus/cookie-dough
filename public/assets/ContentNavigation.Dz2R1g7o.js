import{q as a,w as t,e,s as n,j as r,u as i,a as s}from"./query.1Uv8YpWV.js";import{E as o,R as u,S as l,j as p,T as v,v as m,U as c,G as d,s as f}from"./entry.BKjk9qEO.js";import{u as g}from"./preview.zflI7IPo.js";import{_ as y}from"./nuxt-link.HH-YUONQ.js";const j=p({name:"ContentNavigation",props:{query:{type:Object,required:!1,default:void 0}},async setup(p){const{query:d}=v(p),f=m((()=>{var a;return"function"==typeof(null==(a=d.value)?void 0:a.params)?d.value.params():d.value}));if(!f.value&&c("dd-navigation").value){const{navigation:a}=i();return{navigation:a}}const{data:y}=await s(`content-navigation-${u(f.value)}`,(()=>(async i=>{const{content:s}=o().public;"function"!=typeof(null==i?void 0:i.params)&&(i=a(i));const p=i.params(),v=s.experimental.stripQueryParameters?t(`/navigation/${u(p)}.${s.integrity}/${e(p)}.json`):t(`/navigation/${u(p)}.${s.integrity}.json`);if(n())return(await l((()=>import("./client-db.3OIL-3Ct.js")),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url).then((a=>a.generateNavigation)))(p);const m=await $fetch(v,{method:"GET",responseType:"json",params:s.experimental.stripQueryParameters?void 0:{_params:r(p),previewToken:g().getPreviewToken()}});if("string"==typeof m&&m.startsWith("<!DOCTYPE html>"))throw new Error("Not found");return m})(f.value)));return{navigation:y}},render(a){const t=d(),{navigation:e}=a,n=a=>f(y,{to:a._path},(()=>a.title)),r=(a,t)=>f("ul",t?{"data-level":t}:null,a.map((a=>a.children?f("li",null,[n(a),r(a.children,t+1)]):f("li",null,n(a)))));return(null==t?void 0:t.default)?t.default({navigation:e,...this.$attrs}):r(e,0)}});export{j as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./client-db.3OIL-3Ct.js","./entry.BKjk9qEO.js","./entry.KSMcVSrr.css","./query.1Uv8YpWV.js","./preview.zflI7IPo.js","./index.i7YNNebO.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
