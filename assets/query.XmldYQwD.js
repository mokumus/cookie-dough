import{aG as e,B as r,A as t,z as a,Q as n,aH as s,V as i,aI as o,aJ as l,P as u,aB as c,aK as d,au as p,aL as f,aM as h,aN as y,aC as m,aD as g}from"./entry.vXfoXMQC.js";import{u as w}from"./preview.6eFYDD73.js";function v(...d){var p;const f="string"==typeof d[d.length-1]?d.pop():void 0;"string"!=typeof d[0]&&d.unshift(f);let[h,y,m={}]=d;if("string"!=typeof h)throw new TypeError("[nuxt] [asyncData] key must be a string.");if("function"!=typeof y)throw new TypeError("[nuxt] [asyncData] handler must be a function.");const g=o(),w=y;m.server=m.server??!0,m.default=m.default??(()=>null),m.getCachedData=m.getCachedData??(()=>g.isHydrating?g.payload.data[h]:g.static.data[h]),m.lazy=m.lazy??!1,m.immediate=m.immediate??!0,m.deep=m.deep??e.deep,m.dedupe=m.dedupe??"cancel";const v=()=>![null,void 0].includes(m.getCachedData(h));if(!g._asyncData[h]||!m.immediate){(p=g.payload._errors)[h]??(p[h]=null);const e=m.deep?r:t;g._asyncData[h]={data:e(m.getCachedData(h)??m.default()),pending:r(!v()),error:a(g.payload._errors,h),status:r("idle")}}const _={...g._asyncData[h]};_.refresh=_.execute=(e={})=>{if(g._asyncDataPromises[h]){if("defer"===(r=e.dedupe??m.dedupe)||!1===r)return g._asyncDataPromises[h];g._asyncDataPromises[h].cancelled=!0}var r;if((e._initial||g.isHydrating&&!1!==e._initial)&&v())return Promise.resolve(m.getCachedData(h));_.pending.value=!0,_.status.value="pending";const t=new Promise(((e,r)=>{try{e(w(g))}catch(t){r(t)}})).then((e=>{if(t.cancelled)return g._asyncDataPromises[h];let r=e;m.transform&&(r=m.transform(e)),m.pick&&(r=function(e,r){const t={};for(const a of r)t[a]=e[a];return t}(r,m.pick)),g.payload.data[h]=r,_.data.value=r,_.error.value=null,_.status.value="success"})).catch((e=>{if(t.cancelled)return g._asyncDataPromises[h];_.error.value=l(e),_.data.value=u(m.default()),_.status.value="error"})).finally((()=>{t.cancelled||(_.pending.value=!1,delete g._asyncDataPromises[h])}));return g._asyncDataPromises[h]=t,g._asyncDataPromises[h]};const D=()=>_.refresh({_initial:!0}),b=!1!==m.server&&g.payload.serverRendered;{const e=c();if(e&&!e._nuxtOnBeforeMountCbs){e._nuxtOnBeforeMountCbs=[];const r=e._nuxtOnBeforeMountCbs;e&&(n((()=>{r.forEach((e=>{e()})),r.splice(0,r.length)})),s((()=>r.splice(0,r.length))))}b&&g.isHydrating&&(_.error.value||v())?(_.pending.value=!1,_.status.value=_.error.value?"error":"success"):e&&(g.payload.serverRendered&&g.isHydrating||m.lazy)&&m.immediate?e._nuxtOnBeforeMountCbs.push(D):m.immediate&&D(),m.watch&&i(m.watch,(()=>_.refresh()));const r=g.hook("app:data:refresh",(async e=>{e&&!e.includes(h)||await _.refresh()}));e&&s(r)}const P=Promise.resolve(g._asyncDataPromises[h]).then((()=>_));return Object.assign(P,_),P}const _=(e,r)=>r.split(".").reduce(((e,r)=>e&&e[r]),e),D=(e,r)=>Object.keys(e).filter(r).reduce(((r,t)=>Object.assign(r,{[t]:e[t]})),{}),b=e=>r=>e&&e.length?D(r,(r=>!e.includes(r))):r,P=e=>r=>Array.isArray(r)?r.map((r=>e(r))):e(r),C=e=>{const r=[],t=[];for(const a of e)["$","_"].includes(a)?r.push(a):t.push(a);return{prefixes:r,properties:t}},x=(e=[])=>r=>{if(0===e.length||!r)return r;const{prefixes:t,properties:a}=C(e);return D(r,(e=>!a.includes(e)&&!t.includes(e[0])))},$=(e=[])=>r=>{if(0===e.length||!r)return r;const{prefixes:t,properties:a}=C(e);return D(r,(e=>a.includes(e)||t.includes(e[0])))},E=(e,r)=>{const t=new Intl.Collator(r.$locale,{numeric:r.$numeric,caseFirst:r.$caseFirst,sensitivity:r.$sensitivity}),a=Object.keys(r).filter((e=>!e.startsWith("$")));for(const n of a)e=e.sort(((e,a)=>{const s=[_(e,n),_(a,n)].map((e=>{if(null!==e)return e instanceof Date?e.toISOString():e}));return-1===r[n]&&s.reverse(),t.compare(s[0],s[1])}));return e},O=(e,r="Expected an array")=>{if(!Array.isArray(e))throw new TypeError(r)},j=e=>Array.isArray(e)?e:[void 0,null].includes(e)?[]:[e],k=["sort","where","only","without"];function A(e,r={}){const t={};for(const i of Object.keys(r.initialParams||{}))t[i]=k.includes(i)?j(r.initialParams[i]):r.initialParams[i];const a=(e,r=(e=>e))=>(...a)=>(t[e]=r(...a),s),n=e=>{var t;return r.legacy?(null==e?void 0:e.surround)?e.surround:e?((null==e?void 0:e.dirConfig)&&(e.result={_path:null==(t=e.dirConfig)?void 0:t._path,...e.result,_dir:e.dirConfig}),(null==e?void 0:e._path)||Array.isArray(e)||!Object.prototype.hasOwnProperty.call(e,"result")?e:null==e?void 0:e.result):e:e},s={params:()=>({...t,...t.where?{where:[...j(t.where)]}:{},...t.sort?{sort:[...j(t.sort)]}:{}}),only:a("only",j),without:a("without",j),where:a("where",(e=>[...j(t.where),...j(e)])),sort:a("sort",(e=>[...j(t.sort),...j(e)])),limit:a("limit",(e=>parseInt(String(e),10))),skip:a("skip",(e=>parseInt(String(e),10))),find:()=>e(s).then(n),findOne:()=>e(a("first")(!0)).then(n),count:()=>e(a("count")(!0)).then(n),locale:e=>s.where({_locale:e}),withSurround:a("surround",((e,r)=>({query:e,...r}))),withDirConfig:()=>a("dirConfig")(!0)};return r.legacy?(s.findSurround=(e,r)=>s.withSurround(e,r).find().then(n),s):s}function S(e){return JSON.stringify(e,B)}function B(e,r){return r instanceof RegExp?`--REGEX ${r.toString()}`:r}const T=e=>{let r=S(e);r="undefined"!=typeof Buffer?Buffer.from(r).toString("base64"):btoa(r),r=r.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");return(r.match(/.{1,100}/g)||[]).join("/")},R=e=>d(e,p().public.content.api.baseURL),I=()=>{throw new Error("useContent is only accessible when you are using `documentDriven` mode.")},H=()=>{const{experimental:e}=p().public.content;return!!e.clientDB||w().isEnabled()};function M(e,...r){const{content:t}=p().public,a=A((async e=>{const{content:r}=p().public,t=e.params(),a=r.experimental.stripQueryParameters?R(`/query/${m(t)}.${r.integrity}/${T(t)}.json`):R(`/query/${m(t)}.${r.integrity}.json`);if(H())return(await g((()=>import("./client-db.viYw3l9u.js")),__vite__mapDeps([0,1,2,3,4]),import.meta.url).then((e=>e.useContentDatabase()))).fetch(e);const n=await $fetch(a,{method:"GET",responseType:"json",params:r.experimental.stripQueryParameters?void 0:{_params:S(t),previewToken:w().getPreviewToken()}});if("string"==typeof n&&n.startsWith("<!DOCTYPE html>"))throw new Error("Not found");return n}),{initialParams:"string"!=typeof e?e:{},legacy:!0});let n;"string"==typeof e&&(n=f(h(e,...r)));const s=a.params;return a.params=()=>{var e,r,a;const i=s();if(n&&(i.where=i.where||[],i.first&&0===(i.where||[]).length?i.where.push({_path:y(n)}):i.where.push({_path:new RegExp(`^${n.replace(/[-[\]{}()*+.,^$\s/]/g,"\\$&")}`)})),(null==(e=i.sort)?void 0:e.length)||(i.sort=[{_file:1,$numeric:!0}]),t.locales.length){(null==(a=null==(r=i.where)?void 0:r.find((e=>e._locale)))?void 0:a._locale)||(i.where=i.where||[],i.where.push({_locale:t.defaultLocale}))}return i},a}export{v as a,O as b,j as c,E as d,T as e,P as f,_ as g,x as h,$ as i,S as j,A as k,b as o,M as q,H as s,I as u,R as w};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./client-db.viYw3l9u.js","./entry.vXfoXMQC.js","./entry.KSMcVSrr.css","./index.i7YNNebO.js","./preview.6eFYDD73.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
