import{ab as e,D as n,a3 as l,V as s,Y as t,ae as i,g as u,R as a,v as o,y as d,K as c,B as r,x as f,ac as v,u as g,W as m,bf as p,s as b,L as h,bg as x,S as y}from"./UZsxL62c.js";function I(u){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"content";const o=e(),d=n();if(l){const e=new ResizeObserver((n=>{null==u||u(n,e),n.length&&(d.value="content"===a?n[0].contentRect:n[0].target.getBoundingClientRect())}));s((()=>{e.disconnect()})),t((()=>o.el),((n,l)=>{l&&(e.unobserve(l),d.value=void 0),n&&e.observe(n)}),{flush:"post"})}return{resizeRef:o,contentRect:i(d)}}const C=u({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),S=u({value:null,disabled:Boolean,selectedClass:String},"group-item");function V(e,n){let l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=a("useGroupItem");if(!i)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const u=o();d(Symbol.for(`${n.description}:id`),u);const v=c(n,null);if(!v){if(!l)return v;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${n.description}`)}const g=r(e,"value"),m=f((()=>!(!v.disabled.value&&!e.disabled)));v.register({id:u,value:g,disabled:m},i),s((()=>{v.unregister(u)}));const p=f((()=>v.isSelected(u))),b=f((()=>v.items.value[0].id===u)),h=f((()=>v.items.value[v.items.value.length-1].id===u)),x=f((()=>p.value&&[v.selectedClass.value,e.selectedClass]));return t(p,(e=>{i.emit("group:selected",{value:e})}),{flush:"sync"}),{id:u,isSelected:p,isFirst:b,isLast:h,toggle:()=>v.select(u,!p.value),select:e=>v.select(u,e),selectedClass:x,value:g,disabled:m,group:v}}function w(e,n){let l=!1;const t=v([]),i=g(e,"modelValue",[],(e=>null==e?[]:B(t,h(e))),(n=>{const l=function(e,n){const l=[];return n.forEach((n=>{const s=e.findIndex((e=>e.id===n));if(~s){const n=e[s];l.push(null!=n.value?n.value:s)}})),l}(t,n);return e.multiple?l:l[0]})),u=a("useGroup");function o(){const n=t.find((e=>!e.disabled));n&&"force"===e.mandatory&&!i.value.length&&(i.value=[n.id])}function c(n){if(e.multiple,i.value.length){const e=i.value[0],l=t.findIndex((n=>n.id===e));let s=(l+n)%t.length,u=t[s];for(;u.disabled&&s!==l;)s=(s+n)%t.length,u=t[s];if(u.disabled)return;i.value=[t[s].id]}else{const e=t.find((e=>!e.disabled));e&&(i.value=[e.id])}}m((()=>{o()})),s((()=>{l=!0})),p((()=>{for(let e=0;e<t.length;e++)t[e].useIndexAsValue&&(t[e].value=e)}));const b={register:function(e,l){const s=e,i=Symbol.for(`${n.description}:id`),a=x(i,null==u?void 0:u.vnode).indexOf(l);null==y(s.value)&&(s.value=a,s.useIndexAsValue=!0),a>-1?t.splice(a,0,s):t.push(s)},unregister:function(e){if(l)return;o();const n=t.findIndex((n=>n.id===e));t.splice(n,1)},selected:i,select:function(n,l){const s=t.find((e=>e.id===n));if(!l||!(null==s?void 0:s.disabled))if(e.multiple){const s=i.value.slice(),t=s.findIndex((e=>e===n)),u=~t;if(l=l??!u,u&&e.mandatory&&s.length<=1)return;if(!u&&null!=e.max&&s.length+1>e.max)return;t<0&&l?s.push(n):t>=0&&!l&&s.splice(t,1),i.value=s}else{const s=i.value.includes(n);if(e.mandatory&&s)return;i.value=l??!s?[n]:[]}},disabled:r(e,"disabled"),prev:()=>c(t.length-1),next:()=>c(1),isSelected:e=>i.value.includes(e),selectedClass:f((()=>e.selectedClass)),items:f((()=>t)),getItemIndex:e=>function(e,n){const l=B(e,[n]);return l.length?e.findIndex((e=>e.id===l[0])):-1}(t,e)};return d(n,b),b}function B(e,n){const l=[];return n.forEach((n=>{const s=e.find((e=>b(n,e.value))),t=e[n];null!=(null==s?void 0:s.value)?l.push(s.id):null!=t&&l.push(t.id)})),l}export{S as a,V as b,I as c,C as m,w as u};
